{"ast":null,"code":"/*! @azure/msal-common v7.4.0 2022-09-06 */\n'use strict';\n\nimport { __extends } from '../_virtual/_tslib.js';\nimport { AuthError } from './AuthError.js';\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\n\n/**\r\n * ClientAuthErrorMessage class containing string constants used by error codes and messages.\r\n */\n\nvar ClientAuthErrorMessage = {\n  clientInfoDecodingError: {\n    code: \"client_info_decoding_error\",\n    desc: \"The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause.\"\n  },\n  clientInfoEmptyError: {\n    code: \"client_info_empty_error\",\n    desc: \"The client info was empty. Please review the trace to determine the root cause.\"\n  },\n  tokenParsingError: {\n    code: \"token_parsing_error\",\n    desc: \"Token cannot be parsed. Please review stack trace to determine root cause.\"\n  },\n  nullOrEmptyToken: {\n    code: \"null_or_empty_token\",\n    desc: \"The token is null or empty. Please review the trace to determine the root cause.\"\n  },\n  endpointResolutionError: {\n    code: \"endpoints_resolution_error\",\n    desc: \"Error: could not resolve endpoints. Please check network and try again.\"\n  },\n  networkError: {\n    code: \"network_error\",\n    desc: \"Network request failed. Please check network trace to determine root cause.\"\n  },\n  unableToGetOpenidConfigError: {\n    code: \"openid_config_error\",\n    desc: \"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.\"\n  },\n  hashNotDeserialized: {\n    code: \"hash_not_deserialized\",\n    desc: \"The hash parameters could not be deserialized. Please review the trace to determine the root cause.\"\n  },\n  blankGuidGenerated: {\n    code: \"blank_guid_generated\",\n    desc: \"The guid generated was blank. Please review the trace to determine the root cause.\"\n  },\n  invalidStateError: {\n    code: \"invalid_state\",\n    desc: \"State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState().\"\n  },\n  stateMismatchError: {\n    code: \"state_mismatch\",\n    desc: \"State mismatch error. Please check your network. Continued requests may cause cache overflow.\"\n  },\n  stateNotFoundError: {\n    code: \"state_not_found\",\n    desc: \"State not found\"\n  },\n  nonceMismatchError: {\n    code: \"nonce_mismatch\",\n    desc: \"Nonce mismatch error. This may be caused by a race condition in concurrent requests.\"\n  },\n  nonceNotFoundError: {\n    code: \"nonce_not_found\",\n    desc: \"nonce not found\"\n  },\n  noTokensFoundError: {\n    code: \"no_tokens_found\",\n    desc: \"No tokens were found for the given scopes, and no authorization code was passed to acquireToken. You must retrieve an authorization code before making a call to acquireToken().\"\n  },\n  multipleMatchingTokens: {\n    code: \"multiple_matching_tokens\",\n    desc: \"The cache contains multiple tokens satisfying the requirements. \" + \"Call AcquireToken again providing more requirements such as authority or account.\"\n  },\n  multipleMatchingAccounts: {\n    code: \"multiple_matching_accounts\",\n    desc: \"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account\"\n  },\n  multipleMatchingAppMetadata: {\n    code: \"multiple_matching_appMetadata\",\n    desc: \"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata\"\n  },\n  tokenRequestCannotBeMade: {\n    code: \"request_cannot_be_made\",\n    desc: \"Token request cannot be made without authorization code or refresh token.\"\n  },\n  appendEmptyScopeError: {\n    code: \"cannot_append_empty_scope\",\n    desc: \"Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info.\"\n  },\n  removeEmptyScopeError: {\n    code: \"cannot_remove_empty_scope\",\n    desc: \"Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info.\"\n  },\n  appendScopeSetError: {\n    code: \"cannot_append_scopeset\",\n    desc: \"Cannot append ScopeSet due to error.\"\n  },\n  emptyInputScopeSetError: {\n    code: \"empty_input_scopeset\",\n    desc: \"Empty input ScopeSet cannot be processed.\"\n  },\n  DeviceCodePollingCancelled: {\n    code: \"device_code_polling_cancelled\",\n    desc: \"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.\"\n  },\n  DeviceCodeExpired: {\n    code: \"device_code_expired\",\n    desc: \"Device code is expired.\"\n  },\n  DeviceCodeUnknownError: {\n    code: \"device_code_unknown_error\",\n    desc: \"Device code stopped polling for unknown reasons.\"\n  },\n  NoAccountInSilentRequest: {\n    code: \"no_account_in_silent_request\",\n    desc: \"Please pass an account object, silent flow is not supported without account information\"\n  },\n  invalidCacheRecord: {\n    code: \"invalid_cache_record\",\n    desc: \"Cache record object was null or undefined.\"\n  },\n  invalidCacheEnvironment: {\n    code: \"invalid_cache_environment\",\n    desc: \"Invalid environment when attempting to create cache entry\"\n  },\n  noAccountFound: {\n    code: \"no_account_found\",\n    desc: \"No account found in cache for given key.\"\n  },\n  CachePluginError: {\n    code: \"no cache plugin set on CacheManager\",\n    desc: \"ICachePlugin needs to be set before using readFromStorage or writeFromStorage\"\n  },\n  noCryptoObj: {\n    code: \"no_crypto_object\",\n    desc: \"No crypto object detected. This is required for the following operation: \"\n  },\n  invalidCacheType: {\n    code: \"invalid_cache_type\",\n    desc: \"Invalid cache type\"\n  },\n  unexpectedAccountType: {\n    code: \"unexpected_account_type\",\n    desc: \"Unexpected account type.\"\n  },\n  unexpectedCredentialType: {\n    code: \"unexpected_credential_type\",\n    desc: \"Unexpected credential type.\"\n  },\n  invalidAssertion: {\n    code: \"invalid_assertion\",\n    desc: \"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515\"\n  },\n  invalidClientCredential: {\n    code: \"invalid_client_credential\",\n    desc: \"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential\"\n  },\n  tokenRefreshRequired: {\n    code: \"token_refresh_required\",\n    desc: \"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.\"\n  },\n  userTimeoutReached: {\n    code: \"user_timeout_reached\",\n    desc: \"User defined timeout for device code polling reached\"\n  },\n  tokenClaimsRequired: {\n    code: \"token_claims_cnf_required_for_signedjwt\",\n    desc: \"Cannot generate a POP jwt if the token_claims are not populated\"\n  },\n  noAuthorizationCodeFromServer: {\n    code: \"authorization_code_missing_from_server_response\",\n    desc: \"Server response does not contain an authorization code to proceed\"\n  },\n  noAzureRegionDetected: {\n    code: \"no_azure_region_detected\",\n    desc: \"No azure region was detected and no fallback was made available\"\n  },\n  accessTokenEntityNullError: {\n    code: \"access_token_entity_null\",\n    desc: \"Access token entity is null, please check logs and cache to ensure a valid access token is present.\"\n  },\n  bindingKeyNotRemovedError: {\n    code: \"binding_key_not_removed\",\n    desc: \"Could not remove the credential's binding key from storage.\"\n  },\n  logoutNotSupported: {\n    code: \"end_session_endpoint_not_supported\",\n    desc: \"Provided authority does not support logout.\"\n  },\n  keyIdMissing: {\n    code: \"key_id_missing\",\n    desc: \"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.\"\n  }\n};\n/**\r\n * Error thrown when there is an error in the client code running on the browser.\r\n */\n\nvar ClientAuthError =\n/** @class */\nfunction (_super) {\n  __extends(ClientAuthError, _super);\n\n  function ClientAuthError(errorCode, errorMessage) {\n    var _this = _super.call(this, errorCode, errorMessage) || this;\n\n    _this.name = \"ClientAuthError\";\n    Object.setPrototypeOf(_this, ClientAuthError.prototype);\n    return _this;\n  }\n  /**\r\n   * Creates an error thrown when client info object doesn't decode correctly.\r\n   * @param caughtError\r\n   */\n\n\n  ClientAuthError.createClientInfoDecodingError = function (caughtError) {\n    return new ClientAuthError(ClientAuthErrorMessage.clientInfoDecodingError.code, ClientAuthErrorMessage.clientInfoDecodingError.desc + \" Failed with error: \" + caughtError);\n  };\n  /**\r\n   * Creates an error thrown if the client info is empty.\r\n   * @param rawClientInfo\r\n   */\n\n\n  ClientAuthError.createClientInfoEmptyError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.clientInfoEmptyError.code, \"\" + ClientAuthErrorMessage.clientInfoEmptyError.desc);\n  };\n  /**\r\n   * Creates an error thrown when the id token extraction errors out.\r\n   * @param err\r\n   */\n\n\n  ClientAuthError.createTokenParsingError = function (caughtExtractionError) {\n    return new ClientAuthError(ClientAuthErrorMessage.tokenParsingError.code, ClientAuthErrorMessage.tokenParsingError.desc + \" Failed with error: \" + caughtExtractionError);\n  };\n  /**\r\n   * Creates an error thrown when the id token string is null or empty.\r\n   * @param invalidRawTokenString\r\n   */\n\n\n  ClientAuthError.createTokenNullOrEmptyError = function (invalidRawTokenString) {\n    return new ClientAuthError(ClientAuthErrorMessage.nullOrEmptyToken.code, ClientAuthErrorMessage.nullOrEmptyToken.desc + \" Raw Token Value: \" + invalidRawTokenString);\n  };\n  /**\r\n   * Creates an error thrown when the endpoint discovery doesn't complete correctly.\r\n   */\n\n\n  ClientAuthError.createEndpointDiscoveryIncompleteError = function (errDetail) {\n    return new ClientAuthError(ClientAuthErrorMessage.endpointResolutionError.code, ClientAuthErrorMessage.endpointResolutionError.desc + \" Detail: \" + errDetail);\n  };\n  /**\r\n   * Creates an error thrown when the fetch client throws\r\n   */\n\n\n  ClientAuthError.createNetworkError = function (endpoint, errDetail) {\n    return new ClientAuthError(ClientAuthErrorMessage.networkError.code, ClientAuthErrorMessage.networkError.desc + \" | Fetch client threw: \" + errDetail + \" | Attempted to reach: \" + endpoint.split(\"?\")[0]);\n  };\n  /**\r\n   * Creates an error thrown when the openid-configuration endpoint cannot be reached or does not contain the required data\r\n   */\n\n\n  ClientAuthError.createUnableToGetOpenidConfigError = function (errDetail) {\n    return new ClientAuthError(ClientAuthErrorMessage.unableToGetOpenidConfigError.code, ClientAuthErrorMessage.unableToGetOpenidConfigError.desc + \" Attempted to retrieve endpoints from: \" + errDetail);\n  };\n  /**\r\n   * Creates an error thrown when the hash cannot be deserialized.\r\n   * @param hashParamObj\r\n   */\n\n\n  ClientAuthError.createHashNotDeserializedError = function (hashParamObj) {\n    return new ClientAuthError(ClientAuthErrorMessage.hashNotDeserialized.code, ClientAuthErrorMessage.hashNotDeserialized.desc + \" Given Object: \" + hashParamObj);\n  };\n  /**\r\n   * Creates an error thrown when the state cannot be parsed.\r\n   * @param invalidState\r\n   */\n\n\n  ClientAuthError.createInvalidStateError = function (invalidState, errorString) {\n    return new ClientAuthError(ClientAuthErrorMessage.invalidStateError.code, ClientAuthErrorMessage.invalidStateError.desc + \" Invalid State: \" + invalidState + \", Root Err: \" + errorString);\n  };\n  /**\r\n   * Creates an error thrown when two states do not match.\r\n   */\n\n\n  ClientAuthError.createStateMismatchError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.stateMismatchError.code, ClientAuthErrorMessage.stateMismatchError.desc);\n  };\n  /**\r\n   * Creates an error thrown when the state is not present\r\n   * @param missingState\r\n   */\n\n\n  ClientAuthError.createStateNotFoundError = function (missingState) {\n    return new ClientAuthError(ClientAuthErrorMessage.stateNotFoundError.code, ClientAuthErrorMessage.stateNotFoundError.desc + \":  \" + missingState);\n  };\n  /**\r\n   * Creates an error thrown when the nonce does not match.\r\n   */\n\n\n  ClientAuthError.createNonceMismatchError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.nonceMismatchError.code, ClientAuthErrorMessage.nonceMismatchError.desc);\n  };\n  /**\r\n   * Creates an error thrown when the mnonce is not present\r\n   * @param missingNonce\r\n   */\n\n\n  ClientAuthError.createNonceNotFoundError = function (missingNonce) {\n    return new ClientAuthError(ClientAuthErrorMessage.nonceNotFoundError.code, ClientAuthErrorMessage.nonceNotFoundError.desc + \":  \" + missingNonce);\n  };\n  /**\r\n   * Throws error when multiple tokens are in cache.\r\n   */\n\n\n  ClientAuthError.createMultipleMatchingTokensInCacheError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.multipleMatchingTokens.code, ClientAuthErrorMessage.multipleMatchingTokens.desc + \".\");\n  };\n  /**\r\n   * Throws error when multiple accounts are in cache for the given params\r\n   */\n\n\n  ClientAuthError.createMultipleMatchingAccountsInCacheError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.multipleMatchingAccounts.code, ClientAuthErrorMessage.multipleMatchingAccounts.desc);\n  };\n  /**\r\n   * Throws error when multiple appMetada are in cache for the given clientId.\r\n   */\n\n\n  ClientAuthError.createMultipleMatchingAppMetadataInCacheError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.multipleMatchingAppMetadata.code, ClientAuthErrorMessage.multipleMatchingAppMetadata.desc);\n  };\n  /**\r\n   * Throws error when no auth code or refresh token is given to ServerTokenRequestParameters.\r\n   */\n\n\n  ClientAuthError.createTokenRequestCannotBeMadeError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.tokenRequestCannotBeMade.code, ClientAuthErrorMessage.tokenRequestCannotBeMade.desc);\n  };\n  /**\r\n   * Throws error when attempting to append a null, undefined or empty scope to a set\r\n   * @param givenScope\r\n   */\n\n\n  ClientAuthError.createAppendEmptyScopeToSetError = function (givenScope) {\n    return new ClientAuthError(ClientAuthErrorMessage.appendEmptyScopeError.code, ClientAuthErrorMessage.appendEmptyScopeError.desc + \" Given Scope: \" + givenScope);\n  };\n  /**\r\n   * Throws error when attempting to append a null, undefined or empty scope to a set\r\n   * @param givenScope\r\n   */\n\n\n  ClientAuthError.createRemoveEmptyScopeFromSetError = function (givenScope) {\n    return new ClientAuthError(ClientAuthErrorMessage.removeEmptyScopeError.code, ClientAuthErrorMessage.removeEmptyScopeError.desc + \" Given Scope: \" + givenScope);\n  };\n  /**\r\n   * Throws error when attempting to append null or empty ScopeSet.\r\n   * @param appendError\r\n   */\n\n\n  ClientAuthError.createAppendScopeSetError = function (appendError) {\n    return new ClientAuthError(ClientAuthErrorMessage.appendScopeSetError.code, ClientAuthErrorMessage.appendScopeSetError.desc + \" Detail Error: \" + appendError);\n  };\n  /**\r\n   * Throws error if ScopeSet is null or undefined.\r\n   * @param givenScopeSet\r\n   */\n\n\n  ClientAuthError.createEmptyInputScopeSetError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.emptyInputScopeSetError.code, \"\" + ClientAuthErrorMessage.emptyInputScopeSetError.desc);\n  };\n  /**\r\n   * Throws error if user sets CancellationToken.cancel = true during polling of token endpoint during device code flow\r\n   */\n\n\n  ClientAuthError.createDeviceCodeCancelledError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.DeviceCodePollingCancelled.code, \"\" + ClientAuthErrorMessage.DeviceCodePollingCancelled.desc);\n  };\n  /**\r\n   * Throws error if device code is expired\r\n   */\n\n\n  ClientAuthError.createDeviceCodeExpiredError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.DeviceCodeExpired.code, \"\" + ClientAuthErrorMessage.DeviceCodeExpired.desc);\n  };\n  /**\r\n   * Throws error if device code is expired\r\n   */\n\n\n  ClientAuthError.createDeviceCodeUnknownError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.DeviceCodeUnknownError.code, \"\" + ClientAuthErrorMessage.DeviceCodeUnknownError.desc);\n  };\n  /**\r\n   * Throws error when silent requests are made without an account object\r\n   */\n\n\n  ClientAuthError.createNoAccountInSilentRequestError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.NoAccountInSilentRequest.code, \"\" + ClientAuthErrorMessage.NoAccountInSilentRequest.desc);\n  };\n  /**\r\n   * Throws error when cache record is null or undefined.\r\n   */\n\n\n  ClientAuthError.createNullOrUndefinedCacheRecord = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.invalidCacheRecord.code, ClientAuthErrorMessage.invalidCacheRecord.desc);\n  };\n  /**\r\n   * Throws error when provided environment is not part of the CloudDiscoveryMetadata object\r\n   */\n\n\n  ClientAuthError.createInvalidCacheEnvironmentError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.invalidCacheEnvironment.code, ClientAuthErrorMessage.invalidCacheEnvironment.desc);\n  };\n  /**\r\n   * Throws error when account is not found in cache.\r\n   */\n\n\n  ClientAuthError.createNoAccountFoundError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.noAccountFound.code, ClientAuthErrorMessage.noAccountFound.desc);\n  };\n  /**\r\n   * Throws error if ICachePlugin not set on CacheManager.\r\n   */\n\n\n  ClientAuthError.createCachePluginError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.CachePluginError.code, \"\" + ClientAuthErrorMessage.CachePluginError.desc);\n  };\n  /**\r\n   * Throws error if crypto object not found.\r\n   * @param operationName\r\n   */\n\n\n  ClientAuthError.createNoCryptoObjectError = function (operationName) {\n    return new ClientAuthError(ClientAuthErrorMessage.noCryptoObj.code, \"\" + ClientAuthErrorMessage.noCryptoObj.desc + operationName);\n  };\n  /**\r\n   * Throws error if cache type is invalid.\r\n   */\n\n\n  ClientAuthError.createInvalidCacheTypeError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.invalidCacheType.code, \"\" + ClientAuthErrorMessage.invalidCacheType.desc);\n  };\n  /**\r\n   * Throws error if unexpected account type.\r\n   */\n\n\n  ClientAuthError.createUnexpectedAccountTypeError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.unexpectedAccountType.code, \"\" + ClientAuthErrorMessage.unexpectedAccountType.desc);\n  };\n  /**\r\n   * Throws error if unexpected credential type.\r\n   */\n\n\n  ClientAuthError.createUnexpectedCredentialTypeError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.unexpectedCredentialType.code, \"\" + ClientAuthErrorMessage.unexpectedCredentialType.desc);\n  };\n  /**\r\n   * Throws error if client assertion is not valid.\r\n   */\n\n\n  ClientAuthError.createInvalidAssertionError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.invalidAssertion.code, \"\" + ClientAuthErrorMessage.invalidAssertion.desc);\n  };\n  /**\r\n   * Throws error if client assertion is not valid.\r\n   */\n\n\n  ClientAuthError.createInvalidCredentialError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.invalidClientCredential.code, \"\" + ClientAuthErrorMessage.invalidClientCredential.desc);\n  };\n  /**\r\n   * Throws error if token cannot be retrieved from cache due to refresh being required.\r\n   */\n\n\n  ClientAuthError.createRefreshRequiredError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.tokenRefreshRequired.code, ClientAuthErrorMessage.tokenRefreshRequired.desc);\n  };\n  /**\r\n   * Throws error if the user defined timeout is reached.\r\n   */\n\n\n  ClientAuthError.createUserTimeoutReachedError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.userTimeoutReached.code, ClientAuthErrorMessage.userTimeoutReached.desc);\n  };\n  /*\r\n   * Throws error if token claims are not populated for a signed jwt generation\r\n   */\n\n\n  ClientAuthError.createTokenClaimsRequiredError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.tokenClaimsRequired.code, ClientAuthErrorMessage.tokenClaimsRequired.desc);\n  };\n  /**\r\n   * Throws error when the authorization code is missing from the server response\r\n   */\n\n\n  ClientAuthError.createNoAuthCodeInServerResponseError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.noAuthorizationCodeFromServer.code, ClientAuthErrorMessage.noAuthorizationCodeFromServer.desc);\n  };\n\n  ClientAuthError.createBindingKeyNotRemovedError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.bindingKeyNotRemovedError.code, ClientAuthErrorMessage.bindingKeyNotRemovedError.desc);\n  };\n  /**\r\n   * Thrown when logout is attempted for an authority that doesnt have an end_session_endpoint\r\n   */\n\n\n  ClientAuthError.createLogoutNotSupportedError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.logoutNotSupported.code, ClientAuthErrorMessage.logoutNotSupported.desc);\n  };\n  /**\r\n   * Create an error when kid attribute is missing from a PoP token's cache record\r\n   */\n\n\n  ClientAuthError.createKeyIdMissingError = function () {\n    return new ClientAuthError(ClientAuthErrorMessage.keyIdMissing.code, ClientAuthErrorMessage.keyIdMissing.desc);\n  };\n\n  return ClientAuthError;\n}(AuthError);\n\nexport { ClientAuthError, ClientAuthErrorMessage };","map":{"version":3,"mappings":";;;;;AAAA;;;AAGG;;AAIH;;AAEG;;AACU,0BAAsB,GAAG;EAClCA,uBAAuB,EAAE;IACrBC,IAAI,EAAE,4BADe;IAErBC,IAAI,EAAE;EAFe,CADS;EAKlCC,oBAAoB,EAAE;IAClBF,IAAI,EAAE,yBADY;IAElBC,IAAI,EAAE;EAFY,CALY;EASlCE,iBAAiB,EAAE;IACfH,IAAI,EAAE,qBADS;IAEfC,IAAI,EAAE;EAFS,CATe;EAalCG,gBAAgB,EAAE;IACdJ,IAAI,EAAE,qBADQ;IAEdC,IAAI,EAAE;EAFQ,CAbgB;EAiBlCI,uBAAuB,EAAE;IACrBL,IAAI,EAAE,4BADe;IAErBC,IAAI,EAAE;EAFe,CAjBS;EAqBlCK,YAAY,EAAE;IACVN,IAAI,EAAE,eADI;IAEVC,IAAI,EAAE;EAFI,CArBoB;EAyBlCM,4BAA4B,EAAE;IAC1BP,IAAI,EAAE,qBADoB;IAE1BC,IAAI,EAAE;EAFoB,CAzBI;EA6BlCO,mBAAmB,EAAE;IACjBR,IAAI,EAAE,uBADW;IAEjBC,IAAI,EAAE;EAFW,CA7Ba;EAiClCQ,kBAAkB,EAAE;IAChBT,IAAI,EAAE,sBADU;IAEhBC,IAAI,EAAE;EAFU,CAjCc;EAqClCS,iBAAiB,EAAE;IACfV,IAAI,EAAE,eADS;IAEfC,IAAI,EAAE;EAFS,CArCe;EAyClCU,kBAAkB,EAAE;IAChBX,IAAI,EAAE,gBADU;IAEhBC,IAAI,EAAE;EAFU,CAzCc;EA6ClCW,kBAAkB,EAAE;IAChBZ,IAAI,EAAE,iBADU;IAEhBC,IAAI,EAAE;EAFU,CA7Cc;EAiDlCY,kBAAkB,EAAE;IAChBb,IAAI,EAAE,gBADU;IAEhBC,IAAI,EAAE;EAFU,CAjDc;EAqDlCa,kBAAkB,EAAE;IAChBd,IAAI,EAAE,iBADU;IAEhBC,IAAI,EAAE;EAFU,CArDc;EAyDlCc,kBAAkB,EAAE;IAChBf,IAAI,EAAE,iBADU;IAEhBC,IAAI,EAAE;EAFU,CAzDc;EA6DlCe,sBAAsB,EAAE;IACpBhB,IAAI,EAAE,0BADc;IAEpBC,IAAI,EAAE,qEACF;EAHgB,CA7DU;EAkElCgB,wBAAwB,EAAE;IACtBjB,IAAI,EAAE,4BADgB;IAEtBC,IAAI,EAAE;EAFgB,CAlEQ;EAsElCiB,2BAA2B,EAAE;IACzBlB,IAAI,EAAE,+BADmB;IAEzBC,IAAI,EAAE;EAFmB,CAtEK;EA0ElCkB,wBAAwB,EAAE;IACtBnB,IAAI,EAAE,wBADgB;IAEtBC,IAAI,EAAE;EAFgB,CA1EQ;EA8ElCmB,qBAAqB,EAAE;IACnBpB,IAAI,EAAE,2BADa;IAEnBC,IAAI,EAAE;EAFa,CA9EW;EAkFlCoB,qBAAqB,EAAE;IACnBrB,IAAI,EAAE,2BADa;IAEnBC,IAAI,EAAE;EAFa,CAlFW;EAsFlCqB,mBAAmB,EAAE;IACjBtB,IAAI,EAAE,wBADW;IAEjBC,IAAI,EAAE;EAFW,CAtFa;EA0FlCsB,uBAAuB,EAAE;IACrBvB,IAAI,EAAE,sBADe;IAErBC,IAAI,EAAE;EAFe,CA1FS;EA8FlCuB,0BAA0B,EAAE;IACxBxB,IAAI,EAAE,+BADkB;IAExBC,IAAI,EAAE;EAFkB,CA9FM;EAkGlCwB,iBAAiB,EAAE;IACfzB,IAAI,EAAE,qBADS;IAEfC,IAAI,EAAE;EAFS,CAlGe;EAsGlCyB,sBAAsB,EAAE;IACpB1B,IAAI,EAAE,2BADc;IAEpBC,IAAI,EAAE;EAFc,CAtGU;EA0GlC0B,wBAAwB,EAAE;IACtB3B,IAAI,EAAE,8BADgB;IAEtBC,IAAI,EAAE;EAFgB,CA1GQ;EA8GlC2B,kBAAkB,EAAE;IAChB5B,IAAI,EAAE,sBADU;IAEhBC,IAAI,EAAE;EAFU,CA9Gc;EAkHlC4B,uBAAuB,EAAE;IACrB7B,IAAI,EAAE,2BADe;IAErBC,IAAI,EAAE;EAFe,CAlHS;EAsHlC6B,cAAc,EAAE;IACZ9B,IAAI,EAAE,kBADM;IAEZC,IAAI,EAAE;EAFM,CAtHkB;EA0HlC8B,gBAAgB,EAAE;IACd/B,IAAI,EAAE,qCADQ;IAEdC,IAAI,EAAE;EAFQ,CA1HgB;EA8HlC+B,WAAW,EAAE;IACThC,IAAI,EAAE,kBADG;IAETC,IAAI,EAAE;EAFG,CA9HqB;EAkIlCgC,gBAAgB,EAAE;IACdjC,IAAI,EAAE,oBADQ;IAEdC,IAAI,EAAE;EAFQ,CAlIgB;EAsIlCiC,qBAAqB,EAAE;IACnBlC,IAAI,EAAE,yBADa;IAEnBC,IAAI,EAAE;EAFa,CAtIW;EA0IlCkC,wBAAwB,EAAE;IACtBnC,IAAI,EAAE,4BADgB;IAEtBC,IAAI,EAAE;EAFgB,CA1IQ;EA8IlCmC,gBAAgB,EAAE;IACdpC,IAAI,EAAE,mBADQ;IAEdC,IAAI,EAAE;EAFQ,CA9IgB;EAkJlCoC,uBAAuB,EAAE;IACrBrC,IAAI,EAAE,2BADe;IAErBC,IAAI,EAAE;EAFe,CAlJS;EAsJlCqC,oBAAoB,EAAE;IAClBtC,IAAI,EAAE,wBADY;IAElBC,IAAI,EAAE;EAFY,CAtJY;EA0JlCsC,kBAAkB,EAAE;IAChBvC,IAAI,EAAE,sBADU;IAEhBC,IAAI,EAAE;EAFU,CA1Jc;EA8JlCuC,mBAAmB,EAAE;IACjBxC,IAAI,EAAE,yCADW;IAEjBC,IAAI,EAAE;EAFW,CA9Ja;EAkKlCwC,6BAA6B,EAAE;IAC3BzC,IAAI,EAAE,iDADqB;IAE3BC,IAAI,EAAE;EAFqB,CAlKG;EAsKlCyC,qBAAqB,EAAE;IACnB1C,IAAI,EAAE,0BADa;IAEnBC,IAAI,EAAE;EAFa,CAtKW;EA0KlC0C,0BAA0B,EAAE;IACxB3C,IAAI,EAAE,0BADkB;IAExBC,IAAI,EAAE;EAFkB,CA1KM;EA8KlC2C,yBAAyB,EAAE;IACvB5C,IAAI,EAAE,yBADiB;IAEvBC,IAAI,EAAE;EAFiB,CA9KO;EAkLlC4C,kBAAkB,EAAE;IAChB7C,IAAI,EAAE,oCADU;IAEhBC,IAAI,EAAE;EAFU,CAlLc;EAsLlC6C,YAAY,EAAE;IACV9C,IAAI,EAAE,gBADI;IAEVC,IAAI,EAAE;EAFI;AAtLoB,CAAzB;AA4Lb;;AAEG;;AACH;AAAA;AAAA;EAAqC8C,SAAS,yBAAT;;EAEjC,SAAYC,eAAZ,CAAYC,SAAZ,EAA+BC,YAA/B,EAAoD;IAApD,YACIC,MAAM,KAAN,CAAM,IAAN,EAAMF,SAAN,EAAiBC,YAAjB,KAIH,IALD;;IAEIE,KAAI,CAACC,IAAL,GAAY,iBAAZ;IAEAC,MAAM,CAACC,cAAP,CAAsBH,KAAtB,EAA4BJ,eAAe,CAACQ,SAA5C;;EACH;EAED;;;AAGG;;;EACIR,eAA6B,8BAA7B,GAAP,UAAqCS,WAArC,EAAwD;IACpD,OAAO,IAAIT,eAAJ,CAAoBU,sBAAsB,CAAC3D,uBAAvB,CAA+CC,IAAnE,EACA0D,sBAAsB,CAAC3D,uBAAvB,CAA+CE,IAA/C,GAA0E,sBAA1E,GAA0EwD,WAD1E,CAAP;EAEH,CAHM;EAKP;;;AAGG;;;EACIT,6CAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACxD,oBAAvB,CAA4CF,IAAhE,EACH,KAAG0D,sBAAsB,CAACxD,oBAAvB,CAA4CD,IAD5C,CAAP;EAEH,CAHM;EAKP;;;AAGG;;;EACI+C,eAAuB,wBAAvB,GAAP,UAA+BW,qBAA/B,EAA4D;IACxD,OAAO,IAAIX,eAAJ,CAAoBU,sBAAsB,CAACvD,iBAAvB,CAAyCH,IAA7D,EACA0D,sBAAsB,CAACvD,iBAAvB,CAAyCF,IAAzC,GAAoE,sBAApE,GAAoE0D,qBADpE,CAAP;EAEH,CAHM;EAKP;;;AAGG;;;EACIX,eAA2B,4BAA3B,GAAP,UAAmCY,qBAAnC,EAAgE;IAC5D,OAAO,IAAIZ,eAAJ,CAAoBU,sBAAsB,CAACtD,gBAAvB,CAAwCJ,IAA5D,EACA0D,sBAAsB,CAACtD,gBAAvB,CAAwCH,IAAxC,GAAiE,oBAAjE,GAAiE2D,qBADjE,CAAP;EAEH,CAHM;EAKP;;AAEG;;;EACIZ,eAAsC,uCAAtC,GAAP,UAA8Ca,SAA9C,EAA+D;IAC3D,OAAO,IAAIb,eAAJ,CAAoBU,sBAAsB,CAACrD,uBAAvB,CAA+CL,IAAnE,EACA0D,sBAAsB,CAACrD,uBAAvB,CAA+CJ,IAA/C,GAA+D,WAA/D,GAA+D4D,SAD/D,CAAP;EAEH,CAHM;EAKP;;AAEG;;;EACIb,qCAAP,UAA0Bc,QAA1B,EAA4CD,SAA5C,EAA6D;IACzD,OAAO,IAAIb,eAAJ,CAAoBU,sBAAsB,CAACpD,YAAvB,CAAoCN,IAAxD,EACA0D,sBAAsB,CAACpD,YAAvB,CAAoCL,IAApC,GAAwC,yBAAxC,GAAkE4D,SAAlE,GAA2E,yBAA3E,GAAqGC,QAAQ,CAACC,KAAT,CAAe,GAAf,EAAoB,CAApB,CADrG,CAAP;EAEH,CAHM;EAKP;;AAEG;;;EACIf,eAAkC,mCAAlC,GAAP,UAA0Ca,SAA1C,EAA2D;IACvD,OAAO,IAAIb,eAAJ,CAAoBU,sBAAsB,CAACnD,4BAAvB,CAAoDP,IAAxE,EACA0D,sBAAsB,CAACnD,4BAAvB,CAAoDN,IAApD,GAAkG,yCAAlG,GAAkG4D,SADlG,CAAP;EAEH,CAHM;EAKP;;;AAGG;;;EACIb,eAA8B,+BAA9B,GAAP,UAAsCgB,YAAtC,EAA0D;IACtD,OAAO,IAAIhB,eAAJ,CAAoBU,sBAAsB,CAAClD,mBAAvB,CAA2CR,IAA/D,EACA0D,sBAAsB,CAAClD,mBAAvB,CAA2CP,IAA3C,GAAiE,iBAAjE,GAAiE+D,YADjE,CAAP;EAEH,CAHM;EAKP;;;AAGG;;;EACIhB,0CAAP,UAA+BiB,YAA/B,EAAqDC,WAArD,EAAyE;IACrE,OAAO,IAAIlB,eAAJ,CAAoBU,sBAAsB,CAAChD,iBAAvB,CAAyCV,IAA7D,EACA0D,sBAAsB,CAAChD,iBAAvB,CAAyCT,IAAzC,GAA6C,kBAA7C,GAAgEgE,YAAhE,GAA2F,cAA3F,GAA2FC,WAD3F,CAAP;EAEH,CAHM;EAKP;;AAEG;;;EACIlB,2CAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAAC/C,kBAAvB,CAA0CX,IAA9D,EACH0D,sBAAsB,CAAC/C,kBAAvB,CAA0CV,IADvC,CAAP;EAEH,CAHM;EAKP;;;AAGG;;;EACI+C,eAAwB,yBAAxB,GAAP,UAAgCmB,YAAhC,EAAoD;IAChD,OAAO,IAAInB,eAAJ,CAAoBU,sBAAsB,CAAC9C,kBAAvB,CAA0CZ,IAA9D,EACA0D,sBAAsB,CAAC9C,kBAAvB,CAA0CX,IAA1C,GAAoD,KAApD,GAAoDkE,YADpD,CAAP;EAEH,CAHM;EAKP;;AAEG;;;EACInB,2CAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAAC7C,kBAAvB,CAA0Cb,IAA9D,EACH0D,sBAAsB,CAAC7C,kBAAvB,CAA0CZ,IADvC,CAAP;EAEH,CAHM;EAKP;;;AAGG;;;EACI+C,eAAwB,yBAAxB,GAAP,UAAgCoB,YAAhC,EAAoD;IAChD,OAAO,IAAIpB,eAAJ,CAAoBU,sBAAsB,CAAC5C,kBAAvB,CAA0Cd,IAA9D,EACA0D,sBAAsB,CAAC5C,kBAAvB,CAA0Cb,IAA1C,GAAoD,KAApD,GAAoDmE,YADpD,CAAP;EAEH,CAHM;EAKP;;AAEG;;;EACIpB,2DAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAAC1C,sBAAvB,CAA8ChB,IAAlE,EACA0D,sBAAsB,CAAC1C,sBAAvB,CAA8Cf,IAA9C,GAAkD,GADlD,CAAP;EAEH,CAHM;EAKP;;AAEG;;;EACI+C,6DAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACzC,wBAAvB,CAAgDjB,IAApE,EACH0D,sBAAsB,CAACzC,wBAAvB,CAAgDhB,IAD7C,CAAP;EAEH,CAHM;EAKP;;AAEG;;;EACI+C,gEAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACxC,2BAAvB,CAAmDlB,IAAvE,EACH0D,sBAAsB,CAACxC,2BAAvB,CAAmDjB,IADhD,CAAP;EAEH,CAHM;EAKP;;AAEG;;;EACI+C,sDAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACvC,wBAAvB,CAAgDnB,IAApE,EAA0E0D,sBAAsB,CAACvC,wBAAvB,CAAgDlB,IAA1H,CAAP;EACH,CAFM;EAIP;;;AAGG;;;EACI+C,eAAgC,iCAAhC,GAAP,UAAwCqB,UAAxC,EAA0D;IACtD,OAAO,IAAIrB,eAAJ,CAAoBU,sBAAsB,CAACtC,qBAAvB,CAA6CpB,IAAjE,EAA0E0D,sBAAsB,CAACtC,qBAAvB,CAA6CnB,IAA7C,GAAkE,gBAAlE,GAAkEoE,UAA5I,CAAP;EACH,CAFM;EAIP;;;AAGG;;;EACIrB,eAAkC,mCAAlC,GAAP,UAA0CqB,UAA1C,EAA4D;IACxD,OAAO,IAAIrB,eAAJ,CAAoBU,sBAAsB,CAACrC,qBAAvB,CAA6CrB,IAAjE,EAA0E0D,sBAAsB,CAACrC,qBAAvB,CAA6CpB,IAA7C,GAAkE,gBAAlE,GAAkEoE,UAA5I,CAAP;EACH,CAFM;EAIP;;;AAGG;;;EACIrB,eAAyB,0BAAzB,GAAP,UAAiCsB,WAAjC,EAAoD;IAChD,OAAO,IAAItB,eAAJ,CAAoBU,sBAAsB,CAACpC,mBAAvB,CAA2CtB,IAA/D,EAAwE0D,sBAAsB,CAACpC,mBAAvB,CAA2CrB,IAA3C,GAAiE,iBAAjE,GAAiEqE,WAAzI,CAAP;EACH,CAFM;EAIP;;;AAGG;;;EACItB,gDAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACnC,uBAAvB,CAA+CvB,IAAnE,EAAyE,KAAG0D,sBAAsB,CAACnC,uBAAvB,CAA+CtB,IAA3H,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,iDAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAAClC,0BAAvB,CAAkDxB,IAAtE,EAA4E,KAAG0D,sBAAsB,CAAClC,0BAAvB,CAAkDvB,IAAjI,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,+CAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACjC,iBAAvB,CAAyCzB,IAA7D,EAAmE,KAAG0D,sBAAsB,CAACjC,iBAAvB,CAAyCxB,IAA/G,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,+CAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAAChC,sBAAvB,CAA8C1B,IAAlE,EAAwE,KAAG0D,sBAAsB,CAAChC,sBAAvB,CAA8CzB,IAAzH,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,sDAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAAC/B,wBAAvB,CAAgD3B,IAApE,EAA0E,KAAG0D,sBAAsB,CAAC/B,wBAAvB,CAAgD1B,IAA7H,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,mDAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAAC9B,kBAAvB,CAA0C5B,IAA9D,EAAoE0D,sBAAsB,CAAC9B,kBAAvB,CAA0C3B,IAA9G,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,qDAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAAC7B,uBAAvB,CAA+C7B,IAAnE,EAAyE0D,sBAAsB,CAAC7B,uBAAvB,CAA+C5B,IAAxH,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,4CAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAAC5B,cAAvB,CAAsC9B,IAA1D,EAAgE0D,sBAAsB,CAAC5B,cAAvB,CAAsC7B,IAAtG,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,yCAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAAC3B,gBAAvB,CAAwC/B,IAA5D,EAAkE,KAAG0D,sBAAsB,CAAC3B,gBAAvB,CAAwC9B,IAA7G,CAAP;EACH,CAFM;EAIP;;;AAGG;;;EACI+C,eAAyB,0BAAzB,GAAP,UAAiCuB,aAAjC,EAAsD;IAClD,OAAO,IAAIvB,eAAJ,CAAoBU,sBAAsB,CAAC1B,WAAvB,CAAmChC,IAAvD,EAA6D,KAAG0D,sBAAsB,CAAC1B,WAAvB,CAAmC/B,IAAtC,GAA6CsE,aAA1G,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACIvB,8CAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACzB,gBAAvB,CAAwCjC,IAA5D,EAAkE,KAAG0D,sBAAsB,CAACzB,gBAAvB,CAAwChC,IAA7G,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,mDAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACxB,qBAAvB,CAA6ClC,IAAjE,EAAuE,KAAG0D,sBAAsB,CAACxB,qBAAvB,CAA6CjC,IAAvH,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,sDAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACvB,wBAAvB,CAAgDnC,IAApE,EAA0E,KAAG0D,sBAAsB,CAACvB,wBAAvB,CAAgDlC,IAA7H,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,8CAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACtB,gBAAvB,CAAwCpC,IAA5D,EAAkE,KAAG0D,sBAAsB,CAACtB,gBAAvB,CAAwCnC,IAA7G,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,+CAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACrB,uBAAvB,CAA+CrC,IAAnE,EAAyE,KAAG0D,sBAAsB,CAACrB,uBAAvB,CAA+CpC,IAA3H,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,6CAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACpB,oBAAvB,CAA4CtC,IAAhE,EAAsE0D,sBAAsB,CAACpB,oBAAvB,CAA4CrC,IAAlH,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,gDAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACnB,kBAAvB,CAA0CvC,IAA9D,EAAoE0D,sBAAsB,CAACnB,kBAAvB,CAA0CtC,IAA9G,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,iDAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAAClB,mBAAvB,CAA2CxC,IAA/D,EAAqE0D,sBAAsB,CAAClB,mBAAvB,CAA2CvC,IAAhH,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,wDAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACjB,6BAAvB,CAAqDzC,IAAzE,EAA+E0D,sBAAsB,CAACjB,6BAAvB,CAAqDxC,IAApI,CAAP;EACH,CAFM;;EAIA+C,kDAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACd,yBAAvB,CAAiD5C,IAArE,EAA2E0D,sBAAsB,CAACd,yBAAvB,CAAiD3C,IAA5H,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,gDAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACb,kBAAvB,CAA0C7C,IAA9D,EAAoE0D,sBAAsB,CAACb,kBAAvB,CAA0C5C,IAA9G,CAAP;EACH,CAFM;EAIP;;AAEG;;;EACI+C,0CAAP;IACI,OAAO,IAAIA,eAAJ,CAAoBU,sBAAsB,CAACZ,YAAvB,CAAoC9C,IAAxD,EAA8D0D,sBAAsB,CAACZ,YAAvB,CAAoC7C,IAAlG,CAAP;EACH,CAFM;;EAGX,OAAC+C,eAAD;AAxUA,EAAqCwB,SAArC","names":["clientInfoDecodingError","code","desc","clientInfoEmptyError","tokenParsingError","nullOrEmptyToken","endpointResolutionError","networkError","unableToGetOpenidConfigError","hashNotDeserialized","blankGuidGenerated","invalidStateError","stateMismatchError","stateNotFoundError","nonceMismatchError","nonceNotFoundError","noTokensFoundError","multipleMatchingTokens","multipleMatchingAccounts","multipleMatchingAppMetadata","tokenRequestCannotBeMade","appendEmptyScopeError","removeEmptyScopeError","appendScopeSetError","emptyInputScopeSetError","DeviceCodePollingCancelled","DeviceCodeExpired","DeviceCodeUnknownError","NoAccountInSilentRequest","invalidCacheRecord","invalidCacheEnvironment","noAccountFound","CachePluginError","noCryptoObj","invalidCacheType","unexpectedAccountType","unexpectedCredentialType","invalidAssertion","invalidClientCredential","tokenRefreshRequired","userTimeoutReached","tokenClaimsRequired","noAuthorizationCodeFromServer","noAzureRegionDetected","accessTokenEntityNullError","bindingKeyNotRemovedError","logoutNotSupported","keyIdMissing","__extends","ClientAuthError","errorCode","errorMessage","_super","_this","name","Object","setPrototypeOf","prototype","caughtError","ClientAuthErrorMessage","caughtExtractionError","invalidRawTokenString","errDetail","endpoint","split","hashParamObj","invalidState","errorString","missingState","missingNonce","givenScope","appendError","operationName","AuthError"],"sources":["../../src/error/ClientAuthError.ts"],"sourcesContent":["/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n\nimport { AuthError } from \"./AuthError\";\n\n/**\n * ClientAuthErrorMessage class containing string constants used by error codes and messages.\n */\nexport const ClientAuthErrorMessage = {\n    clientInfoDecodingError: {\n        code: \"client_info_decoding_error\",\n        desc: \"The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause.\"\n    },\n    clientInfoEmptyError: {\n        code: \"client_info_empty_error\",\n        desc: \"The client info was empty. Please review the trace to determine the root cause.\"\n    },\n    tokenParsingError: {\n        code: \"token_parsing_error\",\n        desc: \"Token cannot be parsed. Please review stack trace to determine root cause.\"\n    },\n    nullOrEmptyToken: {\n        code: \"null_or_empty_token\",\n        desc: \"The token is null or empty. Please review the trace to determine the root cause.\"\n    },\n    endpointResolutionError: {\n        code: \"endpoints_resolution_error\",\n        desc: \"Error: could not resolve endpoints. Please check network and try again.\"\n    },\n    networkError: {\n        code: \"network_error\",\n        desc: \"Network request failed. Please check network trace to determine root cause.\"\n    },\n    unableToGetOpenidConfigError: {\n        code: \"openid_config_error\",\n        desc: \"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.\"\n    },\n    hashNotDeserialized: {\n        code: \"hash_not_deserialized\",\n        desc: \"The hash parameters could not be deserialized. Please review the trace to determine the root cause.\"\n    },\n    blankGuidGenerated: {\n        code: \"blank_guid_generated\",\n        desc: \"The guid generated was blank. Please review the trace to determine the root cause.\"\n    },\n    invalidStateError: {\n        code: \"invalid_state\",\n        desc: \"State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState().\"\n    },\n    stateMismatchError: {\n        code: \"state_mismatch\",\n        desc: \"State mismatch error. Please check your network. Continued requests may cause cache overflow.\"\n    },\n    stateNotFoundError: {\n        code: \"state_not_found\",\n        desc: \"State not found\"\n    },\n    nonceMismatchError: {\n        code: \"nonce_mismatch\",\n        desc: \"Nonce mismatch error. This may be caused by a race condition in concurrent requests.\"\n    },\n    nonceNotFoundError: {\n        code: \"nonce_not_found\",\n        desc: \"nonce not found\"\n    },\n    noTokensFoundError: {\n        code: \"no_tokens_found\",\n        desc: \"No tokens were found for the given scopes, and no authorization code was passed to acquireToken. You must retrieve an authorization code before making a call to acquireToken().\"\n    },\n    multipleMatchingTokens: {\n        code: \"multiple_matching_tokens\",\n        desc: \"The cache contains multiple tokens satisfying the requirements. \" +\n            \"Call AcquireToken again providing more requirements such as authority or account.\"\n    },\n    multipleMatchingAccounts: {\n        code: \"multiple_matching_accounts\",\n        desc: \"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account\"\n    },\n    multipleMatchingAppMetadata: {\n        code: \"multiple_matching_appMetadata\",\n        desc: \"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata\"\n    },\n    tokenRequestCannotBeMade: {\n        code: \"request_cannot_be_made\",\n        desc: \"Token request cannot be made without authorization code or refresh token.\"\n    },\n    appendEmptyScopeError: {\n        code: \"cannot_append_empty_scope\",\n        desc: \"Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info.\"\n    },\n    removeEmptyScopeError: {\n        code: \"cannot_remove_empty_scope\",\n        desc: \"Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info.\"\n    },\n    appendScopeSetError: {\n        code: \"cannot_append_scopeset\",\n        desc: \"Cannot append ScopeSet due to error.\"\n    },\n    emptyInputScopeSetError: {\n        code: \"empty_input_scopeset\",\n        desc: \"Empty input ScopeSet cannot be processed.\"\n    },\n    DeviceCodePollingCancelled: {\n        code: \"device_code_polling_cancelled\",\n        desc: \"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.\"\n    },\n    DeviceCodeExpired: {\n        code: \"device_code_expired\",\n        desc: \"Device code is expired.\"\n    },\n    DeviceCodeUnknownError: {\n        code: \"device_code_unknown_error\",\n        desc: \"Device code stopped polling for unknown reasons.\"\n    },\n    NoAccountInSilentRequest: {\n        code: \"no_account_in_silent_request\",\n        desc: \"Please pass an account object, silent flow is not supported without account information\"\n    },\n    invalidCacheRecord: {\n        code: \"invalid_cache_record\",\n        desc: \"Cache record object was null or undefined.\"\n    },\n    invalidCacheEnvironment: {\n        code: \"invalid_cache_environment\",\n        desc: \"Invalid environment when attempting to create cache entry\"\n    },\n    noAccountFound: {\n        code: \"no_account_found\",\n        desc: \"No account found in cache for given key.\"\n    },\n    CachePluginError: {\n        code: \"no cache plugin set on CacheManager\",\n        desc: \"ICachePlugin needs to be set before using readFromStorage or writeFromStorage\"\n    },\n    noCryptoObj: {\n        code: \"no_crypto_object\",\n        desc: \"No crypto object detected. This is required for the following operation: \"\n    },\n    invalidCacheType: {\n        code: \"invalid_cache_type\",\n        desc: \"Invalid cache type\"\n    },\n    unexpectedAccountType: {\n        code: \"unexpected_account_type\",\n        desc: \"Unexpected account type.\"\n    },\n    unexpectedCredentialType: {\n        code: \"unexpected_credential_type\",\n        desc: \"Unexpected credential type.\"\n    },\n    invalidAssertion: {\n        code: \"invalid_assertion\",\n        desc: \"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515\"\n    },\n    invalidClientCredential: {\n        code: \"invalid_client_credential\",\n        desc: \"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential\"\n    },\n    tokenRefreshRequired: {\n        code: \"token_refresh_required\",\n        desc: \"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.\"\n    },\n    userTimeoutReached: {\n        code: \"user_timeout_reached\",\n        desc: \"User defined timeout for device code polling reached\",\n    },\n    tokenClaimsRequired: {\n        code: \"token_claims_cnf_required_for_signedjwt\",\n        desc: \"Cannot generate a POP jwt if the token_claims are not populated\"\n    },\n    noAuthorizationCodeFromServer: {\n        code: \"authorization_code_missing_from_server_response\",\n        desc: \"Server response does not contain an authorization code to proceed\"\n    },\n    noAzureRegionDetected: {\n        code: \"no_azure_region_detected\",\n        desc: \"No azure region was detected and no fallback was made available\"\n    },\n    accessTokenEntityNullError: {\n        code: \"access_token_entity_null\",\n        desc: \"Access token entity is null, please check logs and cache to ensure a valid access token is present.\"\n    },\n    bindingKeyNotRemovedError: {\n        code: \"binding_key_not_removed\",\n        desc: \"Could not remove the credential's binding key from storage.\"\n    },\n    logoutNotSupported: {\n        code: \"end_session_endpoint_not_supported\",\n        desc: \"Provided authority does not support logout.\"\n    },\n    keyIdMissing: {\n        code: \"key_id_missing\",\n        desc: \"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.\"\n    }\n};\n\n/**\n * Error thrown when there is an error in the client code running on the browser.\n */\nexport class ClientAuthError extends AuthError {\n\n    constructor(errorCode: string, errorMessage?: string) {\n        super(errorCode, errorMessage);\n        this.name = \"ClientAuthError\";\n\n        Object.setPrototypeOf(this, ClientAuthError.prototype);\n    }\n\n    /**\n     * Creates an error thrown when client info object doesn't decode correctly.\n     * @param caughtError\n     */\n    static createClientInfoDecodingError(caughtError: string): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.clientInfoDecodingError.code,\n            `${ClientAuthErrorMessage.clientInfoDecodingError.desc} Failed with error: ${caughtError}`);\n    }\n\n    /**\n     * Creates an error thrown if the client info is empty.\n     * @param rawClientInfo\n     */\n    static createClientInfoEmptyError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.clientInfoEmptyError.code,\n            `${ClientAuthErrorMessage.clientInfoEmptyError.desc}`);\n    }\n\n    /**\n     * Creates an error thrown when the id token extraction errors out.\n     * @param err\n     */\n    static createTokenParsingError(caughtExtractionError: string): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.tokenParsingError.code,\n            `${ClientAuthErrorMessage.tokenParsingError.desc} Failed with error: ${caughtExtractionError}`);\n    }\n\n    /**\n     * Creates an error thrown when the id token string is null or empty.\n     * @param invalidRawTokenString\n     */\n    static createTokenNullOrEmptyError(invalidRawTokenString: string) : ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.nullOrEmptyToken.code,\n            `${ClientAuthErrorMessage.nullOrEmptyToken.desc} Raw Token Value: ${invalidRawTokenString}`);\n    }\n\n    /**\n     * Creates an error thrown when the endpoint discovery doesn't complete correctly.\n     */\n    static createEndpointDiscoveryIncompleteError(errDetail: string): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.endpointResolutionError.code,\n            `${ClientAuthErrorMessage.endpointResolutionError.desc} Detail: ${errDetail}`);\n    }\n\n    /**\n     * Creates an error thrown when the fetch client throws\n     */\n    static createNetworkError(endpoint: string, errDetail: string): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.networkError.code,\n            `${ClientAuthErrorMessage.networkError.desc} | Fetch client threw: ${errDetail} | Attempted to reach: ${endpoint.split(\"?\")[0]}`);\n    }\n\n    /**\n     * Creates an error thrown when the openid-configuration endpoint cannot be reached or does not contain the required data\n     */\n    static createUnableToGetOpenidConfigError(errDetail: string): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.unableToGetOpenidConfigError.code,\n            `${ClientAuthErrorMessage.unableToGetOpenidConfigError.desc} Attempted to retrieve endpoints from: ${errDetail}`);\n    }\n\n    /**\n     * Creates an error thrown when the hash cannot be deserialized.\n     * @param hashParamObj\n     */\n    static createHashNotDeserializedError(hashParamObj: string): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.hashNotDeserialized.code,\n            `${ClientAuthErrorMessage.hashNotDeserialized.desc} Given Object: ${hashParamObj}`);\n    }\n\n    /**\n     * Creates an error thrown when the state cannot be parsed.\n     * @param invalidState\n     */\n    static createInvalidStateError(invalidState: string, errorString?: string): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.invalidStateError.code,\n            `${ClientAuthErrorMessage.invalidStateError.desc} Invalid State: ${invalidState}, Root Err: ${errorString}`);\n    }\n\n    /**\n     * Creates an error thrown when two states do not match.\n     */\n    static createStateMismatchError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.stateMismatchError.code,\n            ClientAuthErrorMessage.stateMismatchError.desc);\n    }\n\n    /**\n     * Creates an error thrown when the state is not present\n     * @param missingState\n     */\n    static createStateNotFoundError(missingState: string): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.stateNotFoundError.code,\n            `${ClientAuthErrorMessage.stateNotFoundError.desc}:  ${missingState}`);\n    }\n\n    /**\n     * Creates an error thrown when the nonce does not match.\n     */\n    static createNonceMismatchError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.nonceMismatchError.code,\n            ClientAuthErrorMessage.nonceMismatchError.desc);\n    }\n\n    /**\n     * Creates an error thrown when the mnonce is not present\n     * @param missingNonce\n     */\n    static createNonceNotFoundError(missingNonce: string): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.nonceNotFoundError.code,\n            `${ClientAuthErrorMessage.nonceNotFoundError.desc}:  ${missingNonce}`);\n    }\n\n    /**\n     * Throws error when multiple tokens are in cache.\n     */\n    static createMultipleMatchingTokensInCacheError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.multipleMatchingTokens.code,\n            `${ClientAuthErrorMessage.multipleMatchingTokens.desc}.`);\n    }\n\n    /**\n     * Throws error when multiple accounts are in cache for the given params\n     */\n    static createMultipleMatchingAccountsInCacheError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.multipleMatchingAccounts.code,\n            ClientAuthErrorMessage.multipleMatchingAccounts.desc);\n    }\n\n    /**\n     * Throws error when multiple appMetada are in cache for the given clientId.\n     */\n    static createMultipleMatchingAppMetadataInCacheError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.multipleMatchingAppMetadata.code,\n            ClientAuthErrorMessage.multipleMatchingAppMetadata.desc);\n    }\n\n    /**\n     * Throws error when no auth code or refresh token is given to ServerTokenRequestParameters.\n     */\n    static createTokenRequestCannotBeMadeError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.tokenRequestCannotBeMade.code, ClientAuthErrorMessage.tokenRequestCannotBeMade.desc);\n    }\n\n    /**\n     * Throws error when attempting to append a null, undefined or empty scope to a set\n     * @param givenScope\n     */\n    static createAppendEmptyScopeToSetError(givenScope: string): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.appendEmptyScopeError.code, `${ClientAuthErrorMessage.appendEmptyScopeError.desc} Given Scope: ${givenScope}`);\n    }\n\n    /**\n     * Throws error when attempting to append a null, undefined or empty scope to a set\n     * @param givenScope\n     */\n    static createRemoveEmptyScopeFromSetError(givenScope: string): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.removeEmptyScopeError.code, `${ClientAuthErrorMessage.removeEmptyScopeError.desc} Given Scope: ${givenScope}`);\n    }\n\n    /**\n     * Throws error when attempting to append null or empty ScopeSet.\n     * @param appendError\n     */\n    static createAppendScopeSetError(appendError: string): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.appendScopeSetError.code, `${ClientAuthErrorMessage.appendScopeSetError.desc} Detail Error: ${appendError}`);\n    }\n\n    /**\n     * Throws error if ScopeSet is null or undefined.\n     * @param givenScopeSet\n     */\n    static createEmptyInputScopeSetError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.emptyInputScopeSetError.code, `${ClientAuthErrorMessage.emptyInputScopeSetError.desc}`);\n    }\n\n    /**\n     * Throws error if user sets CancellationToken.cancel = true during polling of token endpoint during device code flow\n     */\n    static createDeviceCodeCancelledError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.DeviceCodePollingCancelled.code, `${ClientAuthErrorMessage.DeviceCodePollingCancelled.desc}`);\n    }\n\n    /**\n     * Throws error if device code is expired\n     */\n    static createDeviceCodeExpiredError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.DeviceCodeExpired.code, `${ClientAuthErrorMessage.DeviceCodeExpired.desc}`);\n    }\n\n    /**\n     * Throws error if device code is expired\n     */\n    static createDeviceCodeUnknownError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.DeviceCodeUnknownError.code, `${ClientAuthErrorMessage.DeviceCodeUnknownError.desc}`);\n    }\n\n    /**\n     * Throws error when silent requests are made without an account object\n     */\n    static createNoAccountInSilentRequestError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.NoAccountInSilentRequest.code, `${ClientAuthErrorMessage.NoAccountInSilentRequest.desc}`);\n    }\n\n    /**\n     * Throws error when cache record is null or undefined.\n     */\n    static createNullOrUndefinedCacheRecord(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.invalidCacheRecord.code, ClientAuthErrorMessage.invalidCacheRecord.desc);\n    }\n\n    /**\n     * Throws error when provided environment is not part of the CloudDiscoveryMetadata object\n     */\n    static createInvalidCacheEnvironmentError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.invalidCacheEnvironment.code, ClientAuthErrorMessage.invalidCacheEnvironment.desc);\n    }\n\n    /**\n     * Throws error when account is not found in cache.\n     */\n    static createNoAccountFoundError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.noAccountFound.code, ClientAuthErrorMessage.noAccountFound.desc);\n    }\n\n    /**\n     * Throws error if ICachePlugin not set on CacheManager.\n     */\n    static createCachePluginError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.CachePluginError.code, `${ClientAuthErrorMessage.CachePluginError.desc}`);\n    }\n\n    /**\n     * Throws error if crypto object not found.\n     * @param operationName\n     */\n    static createNoCryptoObjectError(operationName: string): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.noCryptoObj.code, `${ClientAuthErrorMessage.noCryptoObj.desc}${operationName}`);\n    }\n\n    /**\n     * Throws error if cache type is invalid.\n     */\n    static createInvalidCacheTypeError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.invalidCacheType.code, `${ClientAuthErrorMessage.invalidCacheType.desc}`);\n    }\n\n    /**\n     * Throws error if unexpected account type.\n     */\n    static createUnexpectedAccountTypeError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.unexpectedAccountType.code, `${ClientAuthErrorMessage.unexpectedAccountType.desc}`);\n    }\n\n    /**\n     * Throws error if unexpected credential type.\n     */\n    static createUnexpectedCredentialTypeError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.unexpectedCredentialType.code, `${ClientAuthErrorMessage.unexpectedCredentialType.desc}`);\n    }\n\n    /**\n     * Throws error if client assertion is not valid.\n     */\n    static createInvalidAssertionError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.invalidAssertion.code, `${ClientAuthErrorMessage.invalidAssertion.desc}`);\n    }\n\n    /**\n     * Throws error if client assertion is not valid.\n     */\n    static createInvalidCredentialError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.invalidClientCredential.code, `${ClientAuthErrorMessage.invalidClientCredential.desc}`);\n    }\n\n    /**\n     * Throws error if token cannot be retrieved from cache due to refresh being required.\n     */\n    static createRefreshRequiredError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.tokenRefreshRequired.code, ClientAuthErrorMessage.tokenRefreshRequired.desc);\n    }\n\n    /**\n     * Throws error if the user defined timeout is reached.\n     */\n    static createUserTimeoutReachedError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.userTimeoutReached.code, ClientAuthErrorMessage.userTimeoutReached.desc);\n    }\n\n    /*\n     * Throws error if token claims are not populated for a signed jwt generation\n     */\n    static createTokenClaimsRequiredError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.tokenClaimsRequired.code, ClientAuthErrorMessage.tokenClaimsRequired.desc);\n    }\n\n    /**\n     * Throws error when the authorization code is missing from the server response\n     */\n    static createNoAuthCodeInServerResponseError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.noAuthorizationCodeFromServer.code, ClientAuthErrorMessage.noAuthorizationCodeFromServer.desc);\n    }\n\n    static createBindingKeyNotRemovedError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.bindingKeyNotRemovedError.code, ClientAuthErrorMessage.bindingKeyNotRemovedError.desc);\n    }\n\n    /**\n     * Thrown when logout is attempted for an authority that doesnt have an end_session_endpoint\n     */\n    static createLogoutNotSupportedError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.logoutNotSupported.code, ClientAuthErrorMessage.logoutNotSupported.desc);\n    }\n\n    /**\n     * Create an error when kid attribute is missing from a PoP token's cache record\n     */\n    static createKeyIdMissingError(): ClientAuthError {\n        return new ClientAuthError(ClientAuthErrorMessage.keyIdMissing.code, ClientAuthErrorMessage.keyIdMissing.desc);\n    }\n}\n"]},"metadata":{},"sourceType":"module"}